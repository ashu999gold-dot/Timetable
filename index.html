<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquid Glass Timetable</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <main class="glass-container">
        <header class="app-header">
            <h1>Timetable Generator</h1>
            <p>Craft your perfect schedule with style</p>
        </header>

        <section class="controls-section glass-panel">
            <h2>Select Courses</h2>
            <div class="search-container">
                <div class="search-wrapper">
                    <input type="text" id="course-search"
                        placeholder="Search course code or name... Try 'morning classes'"
                        class="glass-input search-input">
                    <button id="voice-search-btn" class="voice-btn" title="Voice Search">
                        <span class="mic-icon">ğŸ¤</span>
                    </button>
                </div>

                <!-- Quick Filters -->
                <div class="quick-filters">
                    <button class="filter-chip" data-filter="all">All</button>
                    <button class="filter-chip" data-filter="morning">ğŸŒ… Morning</button>
                    <button class="filter-chip" data-filter="afternoon">â˜€ï¸ Afternoon</button>
                    <button class="filter-chip" data-filter="evening">ğŸŒ™ Evening</button>
                </div>

                <div id="search-results" class="glass-dropdown hidden"></div>
            </div>

            <!-- Conflict Warning Panel -->
            <div id="conflict-panel" class="conflict-panel hidden">
                <div class="conflict-header">
                    <span class="conflict-icon">âš ï¸</span>
                    <strong>Schedule Conflicts Detected</strong>
                </div>
                <div id="conflict-list" class="conflict-list"></div>
            </div>

            <div class="selected-courses-container">
                <h3>Selected Courses <span id="course-count">(0)</span></h3>
                <div id="selected-list" class="selected-list">
                    <p class="empty-state">No courses selected. Search above to add.</p>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div id="ai-recommendations" class="ai-section hidden">
                <div class="ai-header">
                    <span class="ai-badge">âœ¨ AI</span>
                    <h3>Suggested Courses</h3>
                </div>
                <div id="recommendation-list" class="recommendation-list"></div>
            </div>

            <div class="action-buttons">
                <button id="generate-btn" class="glass-button primary big-btn">Generate Timetable</button>
                <button id="clear-all-btn" class="glass-button danger">Clear All</button>
                <div class="spacer" style="flex:1"></div>
                <button id="optimize-btn" class="glass-button secondary ai-glow">ğŸ§  AI Insights</button>
            </div>
        </section>

        <!-- AI Insights Panel -->
        <section id="ai-insights-panel" class="glass-panel ai-insights-panel hidden">
            <div class="panel-header">
                <h2>ğŸ§  AI Study Optimizer</h2>
                <button id="close-insights" class="close-btn">Ã—</button>
            </div>
            <div id="insights-content" class="insights-content"></div>
        </section>

        <!-- Analytics Dashboard -->
        <section id="analytics-panel" class="glass-panel analytics-panel hidden">
            <h2>ğŸ“Š Workload Analytics</h2>
            <div id="analytics-content" class="analytics-content"></div>
        </section>

        <section class="timetable-section glass-panel">
            <div class="timetable-header">
                <h2>Your Timetable</h2>
                <div class="export-controls">
                    <button id="export-dropdown-btn" class="glass-button secondary">ğŸ“¤ Export</button>
                    <div id="export-menu" class="export-menu hidden">
                        <button class="export-option" data-action="image">ğŸ“¸ Save as Image</button>
                        <button class="export-option" data-action="calendar">ğŸ“… Export to Calendar (.ics)</button>
                        <button class="export-option" data-action="share">ğŸ”— Generate Share Link</button>
                        <button class="export-option" data-action="qr">ğŸ“± Generate QR Code</button>
                    </div>
                </div>
            </div>
            <div class="timetable-grid-container" id="capture-area">
                <div class="timetable-grid" id="timetable-grid">
                    <!-- Grid generated by JS -->
                </div>
            </div>
        </section>
    </main>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="ai-utils.js"></script>
    <script src="ai-optimizer.js"></script>
    <script src="analytics.js"></script>
    <script src="courses.js"></script>
    <script src="script.js"></script>
</body>

</html>